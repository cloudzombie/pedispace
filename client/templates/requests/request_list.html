<template name="requestList">
  {{> scheduleRider}}
  <div class="item">
    <center>
      <small>
        You can print the schedule by clicking on print schedule.
      </small>
    </center>
  </div>
  {{#each requests}}
    {{> requestItem}}
  {{/each}}
</template>

<template name="requestItem">
  <div class="item">
    <div class="item-content">
      <div class="col-xs-6">
        <span><b>Rider:</b> {{bikerName}}</span><br />
        <span><b>Date:</b> {{requestDateNice}}</span><br />
        <span><b>Shift:</b> {{shiftType}}</span><br />
        <span><strong>Comments: </strong></span>{{comments}}
      </div>
      <div class="col-xs-6 text-right">
        {{#if isInRole 'admin,manager'}}
          {{#if scheduled}}
            <buttton type="button" class="btn btn-warning" name="unconfirm-button" id="unconfirm">Unconfirm</buttton>
          {{else}}
            <buttton type="button" class="btn btn-success" name="confirm-button" id="rider">Rider</buttton>
            <buttton type="button" class="btn btn-success" name="confirm-button" id="alternate">Alternate</buttton>
          {{/if}}
        {{else}}
          {{#if requestConfirmed}}
            <a href="{{pathFor 'requestEdit'}}"><buttton type="button" class="btn btn-default">Edit Request</buttton></a>
            <buttton type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModal{{_id}}">Delete</buttton>
          {{/if}}
        {{/if}}<br/>
        <span><b>Rate Guaranteed:</b> {{#if guaranteeRate}}<span style="color:green">Yes</span>{{else}}<span style="color:red">No</span>{{/if}}</span><br />
        <span><b>Confirmed:</b>
          {{#if scheduled}}
            <span style="color:green;">Scheduled as {{alternate}}</span>
          {{else}}
            <span style="color:red;">Not Scheduled</span>
          {{/if}}
        </span>
      </div>
    </div>
  </div>
  <div class="modal" tabindex="-1" role="dialog" id="deleteModal{{_id}}">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Confirm Delete</h4>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this request?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" id="delete-button">Delete Request</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
</template>
